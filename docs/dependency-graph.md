# Issue Dependency Graph

> Last updated: 2026-01-16
> Auto-generated by `/sync-project`
> Dependencies parsed from issue bodies (no hardcoding)

## Summary

| Metric | Value |
|--------|-------|
| Total Open Issues | 42 |
| Ready to Start | 22 |
| Blocked | 20 |
| Done (Recently) | 25 |

## Android v1.0 Critical Path

```mermaid
flowchart TD
    subgraph INIT["Launch Android App #62"]
        direction TB
        E55["#55 Blocking Apps<br/>~90%<br/>ðŸ“¦ TiedSiren51"]
        E54["#54 User Auth<br/>~31%<br/>ðŸ“¦ TiedSiren51"]
        E57["#57 Strict Mode<br/>~30%<br/>ðŸ“¦ TiedSiren51"]
        E60["#60 Polish Design<br/>0%<br/>ðŸ“¦ TiedSiren51"]
    end

    E55 --> INIT
    E54 --> INIT
    E57 --> INIT
    E60 --> INIT

    style INIT fill:#f9f,stroke:#333,stroke-width:2px
    style E55 fill:#90EE90
    style E54 fill:#FFD700
    style E57 fill:#FFD700
    style E60 fill:#FF6B6B
```

## Native Blocking Architecture

The critical fix for #170 (blocking overlay never triggers) - **ALL COMPLETE**

```mermaid
flowchart TD
    subgraph NATIVE["Native-to-Native Blocking #170 âœ“"]
        I171["#171 âœ“ Multiple listeners<br/>ðŸ“¦ expo-accessibility-service"]
        I172["#172 âœ“ Callback system<br/>ðŸ“¦ expo-foreground-service"]
        I173["#173 âœ“ BlockingCallback<br/>ðŸ“¦ tied-siren-blocking-overlay"]
    end

    I171 --> I173
    I172 --> I173

    style I171 fill:#90EE90
    style I172 fill:#90EE90
    style I173 fill:#90EE90
```

## JS Architecture Refactoring

Sequential dependency chain for clean architecture.

```mermaid
flowchart TD
    subgraph PORTS["Port Definitions âœ“"]
        I177["#177 âœ“ SirenTier port<br/>ðŸ“¦ TiedSiren51"]
        I178["#178 âœ“ SirenLookout port<br/>ðŸ“¦ TiedSiren51"]
        I179["#179 âœ“ selectBlockingSchedule<br/>ðŸ“¦ TiedSiren51"]
    end

    subgraph IMPL["Implementations"]
        I181["#181 âœ“ Noop tiers<br/>ðŸ“¦ blocking-overlay"]
        I182["#182 ðŸŸ¢ AndroidSirenTier<br/>ðŸ“¦ blocking-overlay<br/>PR #203"]
        I180["#180 âœ“ Unified listener<br/>ðŸ“¦ TiedSiren51"]
        I208["#208 ðŸŸ¢ Periodic tick<br/>ðŸ“¦ TiedSiren51<br/>READY"]
    end

    subgraph WIRE["Wiring"]
        I183["#183 ðŸ”´ Update DI<br/>ðŸ“¦ TiedSiren51"]
    end

    subgraph CLEANUP["Cleanup"]
        I184["#184 ðŸ”´ Deprecate JS path<br/>ðŸ“¦ TiedSiren51"]
        I185["#185 ðŸ”´ Remove legacy<br/>ðŸ“¦ TiedSiren51"]
    end

    %% Port dependencies
    I177 --> I181
    I178 --> I181
    I177 --> I182
    I181 --> I182

    %% Listener needs ports + selector
    I177 --> I180
    I179 --> I180
    I180 --> I208

    %% DI needs implementations
    I177 --> I183
    I178 --> I183
    I182 --> I183

    %% Deprecation needs everything working
    I173 --> I184
    I180 --> I184
    I182 --> I184
    I183 --> I184

    %% Cleanup is last
    I184 --> I185

    style I177 fill:#90EE90
    style I178 fill:#90EE90
    style I179 fill:#90EE90
    style I181 fill:#90EE90
    style I180 fill:#90EE90
    style I182 fill:#87CEEB
    style I208 fill:#87CEEB
    style I183 fill:#FF6B6B
    style I184 fill:#FF6B6B
    style I185 fill:#FF6B6B
```

### Native Blocking Pipeline - Status Details

| # | Title | Status | Blocked By | SP |
|---|-------|--------|------------|-----|
| #177 | Refactor SirenTier port | âœ“ done | â€” | 3 |
| #178 | Refactor SirenLookout port | âœ“ done | â€” | 2 |
| #179 | Create selectBlockingSchedule selector | âœ“ done | â€” | 5 |
| #180 | Create unified listener | âœ“ done | â€” | 5 |
| #181 | Create Noop implementations | âœ“ done | â€” | 2 |
| #182 | Update AndroidSirenTier to call setBlockingSchedule | ðŸŸ¢ ready | â€” | 3 |
| #183 | Update dependency injection with new architecture | ðŸ”´ blocked | #182 | 2 |
| #184 | Deprecate JS detection path | ðŸ”´ blocked | #182 | 3 |
| #185 | Remove legacy updateBlockedApps calls | ðŸ”´ blocked | #182, #184 | 2 |
| #208 | Re-evaluate blocking schedule on periodic tick | ðŸŸ¢ ready | â€” | 3 |

## Full Blocking Pipeline

Combined native + JS architecture.

```mermaid
flowchart LR
    subgraph DONE["Completed âœ“"]
        I171["#171 âœ“ Multiple listeners<br/>ðŸ“¦ expo-accessibility-service"]
        I172["#172 âœ“ Callback system<br/>ðŸ“¦ expo-foreground-service"]
        I173["#173 âœ“ BlockingCallback<br/>ðŸ“¦ blocking-overlay"]
        I177["#177 âœ“ SirenTier port<br/>ðŸ“¦ TiedSiren51"]
        I178["#178 âœ“ SirenLookout port<br/>ðŸ“¦ TiedSiren51"]
        I179["#179 âœ“ Selector<br/>ðŸ“¦ TiedSiren51"]
        I180["#180 âœ“ Unified listener<br/>ðŸ“¦ TiedSiren51"]
        I181["#181 âœ“ Noop tiers<br/>ðŸ“¦ blocking-overlay"]
        I199["#199 âœ“ Blocklist deletion modal<br/>ðŸ“¦ TiedSiren51"]
    end

    subgraph READY["Ready to Start"]
        I182["#182 ðŸŸ¢ AndroidSirenTier<br/>ðŸ“¦ blocking-overlay<br/>PR #203"]
        I208["#208 ðŸŸ¢ Periodic tick<br/>ðŸ“¦ TiedSiren51"]
    end

    subgraph PHASE2["Phase 2 - Blocked"]
        I183["#183 ðŸ”´ Update DI<br/>ðŸ“¦ TiedSiren51"]
        I200["#200 ðŸ”´ Strict mode blocklist deletion<br/>ðŸ“¦ TiedSiren51"]
    end

    subgraph PHASE3["Phase 3 - Cleanup"]
        I184["#184 ðŸ”´ Deprecate JS path<br/>ðŸ“¦ TiedSiren51"]
        I185["#185 ðŸ”´ Remove legacy<br/>ðŸ“¦ TiedSiren51"]
    end

    I177 --> I182
    I181 --> I182
    I180 --> I208
    I182 --> I183
    I199 --> I200
    I180 --> I184
    I183 --> I184
    I184 --> I185

    style DONE fill:#90EE90,stroke:#333
    style READY fill:#87CEEB,stroke:#333
    style PHASE2 fill:#FFD700,stroke:#333
    style PHASE3 fill:#FF6B6B,stroke:#333
```

## Authentication Track

Independent from blocking work. All issues in **TiedSiren51**.

```mermaid
flowchart TD
    subgraph DONE["Completed âœ“"]
        I85["#85 Firebase setup âœ“<br/>ðŸ“¦ TiedSiren51"]
        I86["#86 Email/password âœ“<br/>ðŸ“¦ TiedSiren51"]
        I87["#87 Google Sign-In âœ“<br/>ðŸ“¦ TiedSiren51"]
    end

    subgraph INPROG["In Progress"]
        I89["#89 Error handling<br/>ðŸ“¦ TiedSiren51"]
    end

    subgraph TODO["Ready to Start"]
        I88["#88 Apple Sign-In<br/>ðŸ“¦ TiedSiren51"]
        I164["#164 Re-authentication<br/>ðŸ“¦ TiedSiren51"]
        I161["#161 Email verification<br/>ðŸ“¦ TiedSiren51"]
        I167["#167 Brute force<br/>ðŸ“¦ TiedSiren51"]
        I160["#160 Custom reset<br/>ðŸ“¦ TiedSiren51"]
        I168["#168 Security emails<br/>ðŸ“¦ TiedSiren51"]
        I165["#165 Resend reset<br/>ðŸ“¦ TiedSiren51"]
        I169["#169 Deep link email<br/>ðŸ“¦ TiedSiren51"]
    end

    subgraph DEPENDS["Blocked (has dependencies)"]
        I162["#162 Change password<br/>ðŸ“¦ TiedSiren51"]
        I163["#163 Account deletion<br/>ðŸ“¦ TiedSiren51"]
        I166["#166 Session invalidation<br/>ðŸ“¦ TiedSiren51"]
    end

    I85 --> I86
    I85 --> I87
    I85 --> I88

    I164 --> I162
    I164 --> I163
    I160 --> I166

    style DONE fill:#90EE90
    style INPROG fill:#87CEEB
    style TODO fill:#90EE90
    style DEPENDS fill:#DDA0DD
```

### Auth Status

| # | Title | Status | SP |
|---|-------|--------|-----|
| #88 | Implement Apple Sign-In with Firebase | ðŸŸ¢ ready | 3 |
| #89 | Add Authentication Error Handling | ðŸ”µ in-progress | 3 |
| #160 | Custom in-app password reset confirmation flow | ðŸŸ¢ ready | 5 |
| #161 | Implement email verification flow | ðŸŸ¢ ready | 3 |
| #162 | Change password when logged in | ðŸ”´ blocked (#164) | 2 |
| #163 | Account deletion (GDPR compliance) | ðŸ”´ blocked (#164) | 5 |
| #164 | Re-authentication for sensitive operations | ðŸŸ¢ ready | 2 |
| #165 | Resend password reset email | ðŸŸ¢ ready | 1 |
| #166 | Invalidate sessions after password reset | ðŸ”´ blocked (#160) | 3 |
| #167 | Brute force protection on login | ðŸŸ¢ ready | 2 |
| #168 | Security notification emails | ðŸŸ¢ ready | 3 |
| #169 | Deep link to email app after signup | ðŸŸ¢ ready | 2 |

## Blocking Overlay Native Scheduler

Issues in **tied-siren-blocking-overlay** repository.

```mermaid
flowchart TD
    subgraph FOUNDATION["Foundation"]
        B5["#5 âœ“ BlockingScheduler<br/>ðŸ“¦ blocking-overlay"]
        B9["#9 setBlockingSchedule API<br/>ðŸ“¦ blocking-overlay"]
        B10["#10 Extract AppTier<br/>ðŸ“¦ blocking-overlay"]
        B11["#11 Extract AppLookout<br/>ðŸ“¦ blocking-overlay"]
        B12["#12 Noop interfaces<br/>ðŸ“¦ blocking-overlay"]
    end

    subgraph SCHEDULING["Scheduling Features"]
        B6["#6 AlarmManager<br/>ðŸ“¦ blocking-overlay"]
        B7["#7 Overnight sessions<br/>ðŸ“¦ blocking-overlay"]
        B8["#8 Overlapping sessions<br/>ðŸ“¦ blocking-overlay"]
    end

    subgraph RECURRENCE["Recurrence"]
        B13["#13 Daily recurrence<br/>ðŸ“¦ blocking-overlay"]
        B14["#14 Weekly recurrence<br/>ðŸ“¦ blocking-overlay"]
    end

    B5 --> B6
    B5 --> B7
    B5 --> B9
    B6 --> B8
    B6 --> B13
    B13 --> B14

    style B5 fill:#90EE90
    style FOUNDATION fill:#90EE90
    style SCHEDULING fill:#FFD700
    style RECURRENCE fill:#FF6B6B
```

## Initiatives & Epics Hierarchy

```mermaid
flowchart TD
    E62["#62 ðŸŸ¢ Launch Android App<br/>ðŸ“¦ TiedSiren51"]
    E55["#55 ðŸŸ¢ Blocking Apps on Android<br/>ðŸ“¦ TiedSiren51"]
    E54["#54 ðŸŸ¢ User Authentification<br/>ðŸ“¦ TiedSiren51"]
    E57["#57 ðŸ”´ Strict Mode<br/>ðŸ“¦ TiedSiren51"]
    E58["#58 ðŸ”´ Block websites on Android<br/>ðŸ“¦ TiedSiren51"]
    E59["#59 ðŸ”´ Blocking keywords on Android<br/>ðŸ“¦ TiedSiren51"]
    E60["#60 ðŸŸ¢ Polish design<br/>ðŸ“¦ TiedSiren51"]
    E61["#61 ðŸ”´ Schedule recurring block sessions<br/>ðŸ“¦ TiedSiren51"]
    E63["#63 ðŸ”´ Launch iOS App<br/>ðŸ“¦ TiedSiren51"]
    E64["#64 ðŸ”´ Multi device sync<br/>ðŸ“¦ TiedSiren51"]
    E65["#65 ðŸ”´ Launch MacOS desktop App<br/>ðŸ“¦ TiedSiren51"]
    E66["#66 ðŸ”´ Launch Windows desktop App<br/>ðŸ“¦ TiedSiren51"]
    E67["#67 ðŸ”´ Goal based locking/unlocking<br/>ðŸ“¦ TiedSiren51"]

    E55 --> E57
    E55 --> E58
    E55 --> E61
    E58 --> E59
    E62 --> E63
    E62 --> E64
    E62 --> E65
    E62 --> E66
    E62 --> E67
    E63 --> E64

    style E62 fill:#87CEEB
    style E55 fill:#87CEEB
    style E54 fill:#87CEEB
    style E60 fill:#87CEEB
    style E57 fill:#FF6B6B
    style E58 fill:#FF6B6B
    style E59 fill:#FF6B6B
    style E61 fill:#FF6B6B
    style E63 fill:#FF6B6B
    style E64 fill:#FF6B6B
    style E65 fill:#FF6B6B
    style E66 fill:#FF6B6B
    style E67 fill:#FF6B6B
```

## Work Streams Summary

| Stream | Ready Now | In Progress | Blocked By | Done |
|--------|-----------|-------------|------------|------|
| **Native blocking** | â€” | â€” | â€” | #171 âœ“, #172 âœ“, #173 âœ“ |
| **JS ports** | â€” | â€” | â€” | #177 âœ“, #178 âœ“, #179 âœ“ |
| **JS implementations** | #182, #208 | â€” | â€” | #180 âœ“, #181 âœ“ |
| **Wiring** | â€” | â€” | #182 | â€” |
| **Cleanup** | â€” | â€” | Everything else | â€” |
| **Auth** | #88, #160-161, #164-165, #167-169 | #89 | â€” | #85-87 âœ“ |
| **blocking-overlay** | #6, #9, #10, #11, #12 | â€” | â€” | #5 âœ“ |
| **Strict mode** | #200 | â€” | #199 âœ“ | #199 âœ“ |

## Recommended Execution Order

### Phase 1: Foundations âœ“ COMPLETE
- [x] #171 - Multiple listeners (expo-accessibility-service) âœ“
- [x] #172 - Callback system (expo-foreground-service) âœ“
- [x] #173 - BlockingCallback (blocking-overlay) âœ“
- [x] #177 - SirenTier port (TiedSiren51) âœ“
- [x] #178 - SirenLookout port (TiedSiren51) âœ“
- [x] #181 - Noop tiers in Kotlin (blocking-overlay) âœ“
- [x] #179 - selectBlockingSchedule (TiedSiren51) âœ“
- [x] #180 - Unified listener (TiedSiren51) âœ“
- [x] #199 - Blocklist deletion modal (TiedSiren51) âœ“

### Phase 2: Current Focus
- [ ] #182 - AndroidSirenTier setBlockingSchedule (blocking-overlay) â€” **PR #203 OPEN**
  - Blocked by: [blocking-overlay#9](https://github.com/amehmeto/tied-siren-blocking-overlay/issues/9) - Expose setBlockingSchedule() API
- [ ] #208 - Periodic tick for schedule re-evaluation (TiedSiren51) â€” **READY TO START**

### Phase 3: After Phase 2
- [ ] #183 - Update DI (TiedSiren51) â€” needs #182
- [ ] #200 - Strict mode blocklist deletion (TiedSiren51) â€” needs #199 âœ“

### Phase 4: Cleanup
- [ ] #184 - Deprecate JS path (TiedSiren51) â€” needs #173 âœ“, #180 âœ“, #182, #183
- [ ] #185 - Remove legacy code (TiedSiren51) â€” needs #184

---

## Repository Legend

| Abbreviation | Full Name | Type |
|--------------|-----------|------|
| TiedSiren51 | amehmeto/TiedSiren51 | Main app (React Native) |
| blocking-overlay | amehmeto/tied-siren-blocking-overlay | Native module (Kotlin) |
| expo-accessibility-service | amehmeto/expo-accessibility-service | Native module (Kotlin) |
| expo-foreground-service | amehmeto/expo-foreground-service | Native module (Kotlin) |

## Color Legend

| Color | Meaning |
|-------|---------|
| ðŸŸ¢ Green | Done / Ready to start |
| ðŸ”µ Blue | In progress |
| ðŸŸ¡ Yellow | Has some deps remaining |
| ðŸŸ  Orange | Multiple dependencies |
| ðŸ”´ Red | Blocked / Final cleanup |
| ðŸŸ£ Purple | Has dependencies |

---

## Raw Dependency Data

```yaml
# Native Blocking - ALL DONE âœ“
171: [] âœ“ DONE                   # expo-accessibility-service
172: [] âœ“ DONE                   # expo-foreground-service
173: [171, 172] âœ“ DONE           # blocking-overlay

# JS Architecture (TiedSiren51 unless noted)
177: [] âœ“ DONE                   # TiedSiren51
178: [] âœ“ DONE                   # TiedSiren51
179: [] âœ“ DONE                   # TiedSiren51
180: [177, 179] âœ“ DONE           # TiedSiren51
181: [177, 178] âœ“ DONE           # blocking-overlay
182: [177] â†’ READY               # blocking-overlay (PR #203)
183: [177, 178, 182]             # TiedSiren51
184: [173, 180, 182, 183]        # TiedSiren51
185: [184]                       # TiedSiren51
208: [180] â†’ READY               # TiedSiren51

# blocking-overlay native scheduler
5: [] âœ“ DONE                     # blocking-overlay - Foundation
6: [5]                           # blocking-overlay - AlarmManager
7: [5]                           # blocking-overlay - Overnight
8: [5, 6]                        # blocking-overlay - Overlapping
9: [5]                           # blocking-overlay - JS API
10: []                           # blocking-overlay - AppTier abstraction
11: []                           # blocking-overlay - AppLookout abstraction
12: []                           # blocking-overlay - Noop interfaces
13: [5, 6]                       # blocking-overlay - Daily
14: [5, 6]                       # blocking-overlay - Weekly

# Auth (all TiedSiren51)
88: []                           # Ready
89: []                           # In progress
160: []                          # Ready
161: []                          # Ready
162: [164]                       # Needs re-auth
163: [164]                       # Needs re-auth
164: []                          # Ready
165: []                          # Ready
166: [160]                       # Needs custom reset
167: []                          # Ready
168: []                          # Ready
169: []                          # Ready

# Other
199: [] âœ“ DONE                   # Blocklist deletion modal
200: [199] â†’ READY               # Strict mode blocklist deletion
201: []                          # Refactor BlockSession
```

---

## Blocking Pipeline Progress

| Phase | Total | Done | Remaining |
|-------|-------|------|-----------|
| Phase 1 (Foundations) | 9 | 9 | 0 âœ“ |
| Phase 2 (Current) | 2 | 0 | 2 |
| Phase 3 (Wiring) | 2 | 0 | 2 |
| Phase 4 (Cleanup) | 2 | 0 | 2 |
| **Total** | **15** | **9** | **6** |

**Progress: 60% complete**
