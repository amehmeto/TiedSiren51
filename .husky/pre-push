sh .husky/scripts/no-direct-push-main-demo.sh
sh .husky/scripts/branch-name-check.sh
sh .husky/scripts/uncommitted-files-check.sh

npm run test:cov
echo ""

node scripts/compare-coverage.cjs

npx expo-doctor

exec < /dev/tty  # Redirect input to terminal

echo ""
echo "âš ï¸  Warning: E2E tests are not part of CI pipeline yet."
echo "ðŸ‘‰ It's your responsibility to ensure e2e tests pass before final merge."
echo "ðŸ›‘ Please run 'npm run test:e2e' to verify your changes."
read -p "â“ Have you manually verified that e2e tests pass? (y/n): " answer
echo ""

if [ "$answer" != "y" ]; then
    echo "ðŸ›‘ Please run 'npm run test:e2e' to verify your changes."
    echo "   You can run the tests with: npm run test:e2e"
    exit 1
fi

exec <&- # Close terminal input

echo "âœ… Proceeding with push. Remember to run e2e tests before final merge!"
echo ""
